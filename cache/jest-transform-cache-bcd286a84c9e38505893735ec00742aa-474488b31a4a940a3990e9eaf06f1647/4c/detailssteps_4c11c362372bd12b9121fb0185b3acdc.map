{"version":3,"names":["_react","_interopRequireDefault","require","_jestCucumber","_react2","_reactRouterDom","_axios","_Details","obj","__esModule","default","feature","loadFeature","defineFeature","test","given","when","then","screen","beforeEach","jest","clearAllMocks","render","createElement","MemoryRouter","initialEntries","Routes","Route","path","element","spyOn","axios","mockResolvedValueOnce","data","word","phonetics","text","audio","meanings","partOfSpeech","definitions","definition","example","synonyms","waitFor","wordName","getAllByTestId","wordPhonetics","wordPos","wordDef","wordExample","expect","toHaveTextContent"],"sources":["details.steps.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { defineFeature, loadFeature } from \"jest-cucumber\";\r\nimport { render, waitFor } from \"@testing-library/react\";\r\nimport { BrowserRouter, MemoryRouter, Route, Routes } from \"react-router-dom\";\r\nimport \"@testing-library/jest-dom/extend-expect\";\r\nimport axios from \"axios\";\r\nimport Details from \"../../Dictionary/Details\";\r\n\r\nconst feature = loadFeature(\"src/Components/Features/details.feature\");\r\n\r\ndefineFeature(feature, (test) => {\r\n  test(\"User views word details with phonetics and meanings\", ({\r\n    given,\r\n    when,\r\n    then,\r\n  }) => {\r\n    let screen: any;\r\n    beforeEach(() => {\r\n      jest.clearAllMocks();\r\n    });\r\n\r\n    given(\"The user is on the Details page\", () => {\r\n      screen = render(\r\n        <MemoryRouter initialEntries={[\"/details/testWord\"]}>\r\n          <Routes>\r\n            <Route path=\"/details/:id\" element={<Details />} />\r\n          </Routes>\r\n        </MemoryRouter>\r\n      );\r\n    });\r\n\r\n    when(\"The user views the details for a word\", async () => {\r\n      screen = render(\r\n        <MemoryRouter initialEntries={[\"/details/testWord\"]}>\r\n          <Routes>\r\n            <Route path=\"/details/:id\" element={<Details />} />\r\n          </Routes>\r\n        </MemoryRouter>\r\n      );\r\n      jest.spyOn(axios, \"get\").mockResolvedValueOnce({\r\n        data: [\r\n          {\r\n            word: \"example\",\r\n            phonetics: [\r\n              {\r\n                text: \"/ɪɡˈzæmpəl/\",\r\n                audio: \"example-audio.mp3\",\r\n              },\r\n            ],\r\n            meanings: [\r\n              {\r\n                partOfSpeech: \"noun\",\r\n                definitions: [\r\n                  {\r\n                    definition: \"a representative form or pattern\",\r\n                    example: \"I followed your example\",\r\n                    synonyms: [\"model\", \"pattern\", \"prototype\"],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      });\r\n    });\r\n\r\n    then(\"The word details should be displayed\", async () => {\r\n      screen = render(\r\n        <MemoryRouter initialEntries={[\"/details/testWord\"]}>\r\n          <Routes>\r\n            <Route path=\"/details/:id\" element={<Details />} />\r\n          </Routes>\r\n        </MemoryRouter>\r\n      );\r\n      jest.spyOn(axios, \"get\").mockResolvedValueOnce({\r\n        data: [\r\n          {\r\n            word: \"example\",\r\n            phonetics: [\r\n              {\r\n                text: \"/ɪɡˈzæmpəl/\",\r\n                audio: \"example-audio.mp3\",\r\n              },\r\n            ],\r\n            meanings: [\r\n              {\r\n                partOfSpeech: \"noun\",\r\n                definitions: [\r\n                  {\r\n                    definition: \"a representative form or pattern\",\r\n                    example: \"I followed your example\",\r\n                    synonyms: [\"model\", \"pattern\", \"prototype\"],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      });\r\n      await waitFor(() => {\r\n        const wordName = screen.getAllByTestId(\"word-name\");\r\n        const wordPhonetics = screen.getAllByTestId(\"word-phonetics\");\r\n        const wordPos = screen.getAllByTestId(\"word-pos\");\r\n        const wordDef = screen.getAllByTestId(\"word-definition\");\r\n        const wordExample = screen.getAllByTestId(\"word-example\");\r\n        expect(wordName[0]).toHaveTextContent(\"example\");\r\n        expect(wordPhonetics[0]).toHaveTextContent(\"/ɪɡˈzæmpəl/\");\r\n        expect(wordPos[0]).toHaveTextContent(\"noun\");\r\n        expect(wordDef[0]).toHaveTextContent(\r\n          \"a representative form or pattern\"\r\n        );\r\n        expect(wordExample[0]).toHaveTextContent(\"I followed your example\");\r\n      });\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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"}