{"version":3,"names":["_react","_interopRequireDefault","require","_jestCucumber","_reactRedux","_reactRouterDom","_react2","_store","_Home","_Details","obj","__esModule","default","feature","loadFeature","defineFeature","test","beforeEach","jest","clearAllMocks","given","when","then","and","alertMock","spyOn","window","mockImplementation","screen","render","createElement","Provider","store","BrowserRouter","Routes","Route","path","element","Navigate","to","replace","expect","getByTestId","toBeInTheDocument","input","getAllByPlaceholderText","fireEvent","change","target","value","mockAxios","mockResolvedValueOnce","data","meanings","definitions","definition","findByText","getByText","def","getAllByTestId","click","waitFor","location","pathname","toMatch","toBeTruthy"],"sources":["home.steps.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { defineFeature, loadFeature } from \"jest-cucumber\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter, Route, Routes, Navigate } from \"react-router-dom\";\r\nimport {\r\n  act,\r\n  cleanup,\r\n  fireEvent,\r\n  render,\r\n  waitFor,\r\n} from \"@testing-library/react\";\r\nimport \"@testing-library/jest-dom/extend-expect\";\r\nimport { store } from \"../../Redux/store\";\r\nimport routes from \"./../../utils/Routes\";\r\nimport Home from \"../../Dictionary/Home\";\r\nimport Details from \"../../Dictionary/Details\";\r\nimport axios from \"axios\";\r\n\r\nconst feature = loadFeature(\"src/Components/Features/home.feature\");\r\n\r\ndefineFeature(feature, (test) => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n  });\r\n  test(\"The component renders and a random word is fetched\", ({\r\n    given,\r\n    when,\r\n    then,\r\n    and,\r\n  }) => {\r\n    const alertMock = jest.spyOn(window, \"alert\").mockImplementation(() => {});\r\n    given(\"The user is on the Home page\", () => {\r\n      const screen = render(\r\n        <Provider store={store}>\r\n          <BrowserRouter>\r\n            <Routes>\r\n              <Route path=\"/search\" element={<Home />} />\r\n              <Route path=\"/details/:id\" element={<Details />} />\r\n              <Route path=\"*\" element={<Navigate to=\"/search\" replace />} />\r\n            </Routes>\r\n          </BrowserRouter>\r\n        </Provider>\r\n      );\r\n      expect(screen.getByTestId(\"homeContainer\")).toBeInTheDocument();\r\n    });\r\n    when(\"The user inputs a word and submits it\", async () => {\r\n      const screen = render(\r\n        <Provider store={store}>\r\n          <BrowserRouter>\r\n            <Routes>\r\n              <Route path=\"/search\" element={<Home />} />\r\n              <Route path=\"/details/:id\" element={<Details />} />\r\n              <Route path=\"*\" element={<Navigate to=\"/search\" replace />} />\r\n            </Routes>\r\n          </BrowserRouter>\r\n        </Provider>\r\n      );\r\n      const input = screen.getAllByPlaceholderText(\"Example: example\");\r\n      fireEvent.change(input[0], { target: { value: \"example\" } });\r\n    });\r\n\r\n    then(\"the definition of the word is fetched and displayed\", async () => {\r\n      const screen = render(\r\n        <Provider store={store}>\r\n          <BrowserRouter>\r\n            <Routes>\r\n              <Route path=\"/search\" element={<Home />} />\r\n              <Route path=\"/details/:id\" element={<Details />} />\r\n              <Route path=\"*\" element={<Navigate to=\"/search\" replace />} />\r\n            </Routes>\r\n          </BrowserRouter>\r\n        </Provider>\r\n      );\r\n      const mockAxios = jest.spyOn(require(\"axios\"), \"get\");\r\n      mockAxios.mockResolvedValueOnce({\r\n        data: [\r\n          {\r\n            meanings: [\r\n              {\r\n                definitions: [\r\n                  { definition: \"a thing characteristic of its kind\" },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      });\r\n      await screen.findByText(\"a thing characteristic of its kind\");\r\n      expect(\r\n        screen.getByText(\"a thing characteristic of its kind\")\r\n      ).toBeInTheDocument();\r\n    });\r\n    and(\r\n      \"clicking on the definition takes the user to the Details page for that word\",\r\n      async () => {\r\n        const screen = render(\r\n          <Provider store={store}>\r\n            <BrowserRouter>\r\n              <Routes>\r\n                <Route path=\"/search\" element={<Home />} />\r\n                <Route path=\"/details/:id\" element={<Details />} />\r\n                <Route path=\"*\" element={<Navigate to=\"/search\" replace />} />\r\n              </Routes>\r\n            </BrowserRouter>\r\n          </Provider>\r\n        );\r\n        const input = screen.getAllByPlaceholderText(\"Example: example\");\r\n        fireEvent.change(input[0], { target: { value: \"example\" } });\r\n        const mockAxios = jest.spyOn(require(\"axios\"), \"get\");\r\n        mockAxios.mockResolvedValueOnce({\r\n          data: [\r\n            {\r\n              meanings: [\r\n                {\r\n                  definitions: [\r\n                    { definition: \"a thing characteristic of its kind\" },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        });\r\n        const def = screen.getAllByTestId(\"definitionContainer\");\r\n        fireEvent.click(def[1]);\r\n        await waitFor(() => {\r\n          expect(window.location.pathname).toMatch(/^\\/details\\/.*/);\r\n        });\r\n      }\r\n    );\r\n  });\r\n  test(\"The component renders and a word is inputed, and it gives no result\", ({\r\n    given,\r\n    when,\r\n    then,\r\n    and,\r\n  }) => {\r\n    const alertMock = jest.spyOn(window, \"alert\").mockImplementation(() => {});\r\n    given(\"The user is on the Home page\", async () => {\r\n      const screen = render(\r\n        <Provider store={store}>\r\n          <BrowserRouter>\r\n            <Routes>\r\n              <Route path=\"/search\" element={<Home />} />\r\n              <Route path=\"/details/:id\" element={<Details />} />\r\n              <Route path=\"*\" element={<Navigate to=\"/search\" replace />} />\r\n            </Routes>\r\n          </BrowserRouter>\r\n        </Provider>\r\n      );\r\n      expect(screen).toBeTruthy();\r\n    });\r\n    when(\"The user inputs a word and submits it\", async () => {});\r\n\r\n    then(\r\n      \"the definition of the word cannot be fetched and gives error alert\",\r\n      async () => {}\r\n    );\r\n  });\r\n});\r\n"],"mappings":"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"}