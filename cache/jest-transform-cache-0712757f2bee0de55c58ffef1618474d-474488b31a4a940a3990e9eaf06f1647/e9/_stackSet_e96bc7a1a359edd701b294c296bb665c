efee094b1d3ce28e9085dda8f1d3c072
/* istanbul ignore next */
"use strict";

var ListCache = require('./_ListCache'),
  Map = require('./_Map'),
  MapCache = require('./_MapCache');

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var data = this.__data__;
  if (data instanceof ListCache) {
    var pairs = data.__data__;
    if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {
      pairs.push([key, value]);
      this.size = ++data.size;
      return this;
    }
    data = this.__data__ = new MapCache(pairs);
  }
  data.set(key, value);
  this.size = data.size;
  return this;
}
module.exports = stackSet;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJMaXN0Q2FjaGUiLCJyZXF1aXJlIiwiTWFwIiwiTWFwQ2FjaGUiLCJMQVJHRV9BUlJBWV9TSVpFIiwic3RhY2tTZXQiLCJrZXkiLCJ2YWx1ZSIsImRhdGEiLCJfX2RhdGFfXyIsInBhaXJzIiwibGVuZ3RoIiwicHVzaCIsInNpemUiLCJzZXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiX3N0YWNrU2V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBMaXN0Q2FjaGUgPSByZXF1aXJlKCcuL19MaXN0Q2FjaGUnKSxcbiAgICBNYXAgPSByZXF1aXJlKCcuL19NYXAnKSxcbiAgICBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0YWNrU2V0O1xuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFJQSxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxjQUFjLENBQUM7RUFDbkNDLEdBQUcsR0FBR0QsT0FBTyxDQUFDLFFBQVEsQ0FBQztFQUN2QkUsUUFBUSxHQUFHRixPQUFPLENBQUMsYUFBYSxDQUFDOztBQUVyQztBQUNBLElBQUlHLGdCQUFnQixHQUFHLEdBQUc7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0MsUUFBUUEsQ0FBQ0MsR0FBRyxFQUFFQyxLQUFLLEVBQUU7RUFDNUIsSUFBSUMsSUFBSSxHQUFHLElBQUksQ0FBQ0MsUUFBUTtFQUN4QixJQUFJRCxJQUFJLFlBQVlSLFNBQVMsRUFBRTtJQUM3QixJQUFJVSxLQUFLLEdBQUdGLElBQUksQ0FBQ0MsUUFBUTtJQUN6QixJQUFJLENBQUNQLEdBQUcsSUFBS1EsS0FBSyxDQUFDQyxNQUFNLEdBQUdQLGdCQUFnQixHQUFHLENBQUUsRUFBRTtNQUNqRE0sS0FBSyxDQUFDRSxJQUFJLENBQUMsQ0FBQ04sR0FBRyxFQUFFQyxLQUFLLENBQUMsQ0FBQztNQUN4QixJQUFJLENBQUNNLElBQUksR0FBRyxFQUFFTCxJQUFJLENBQUNLLElBQUk7TUFDdkIsT0FBTyxJQUFJO0lBQ2I7SUFDQUwsSUFBSSxHQUFHLElBQUksQ0FBQ0MsUUFBUSxHQUFHLElBQUlOLFFBQVEsQ0FBQ08sS0FBSyxDQUFDO0VBQzVDO0VBQ0FGLElBQUksQ0FBQ00sR0FBRyxDQUFDUixHQUFHLEVBQUVDLEtBQUssQ0FBQztFQUNwQixJQUFJLENBQUNNLElBQUksR0FBR0wsSUFBSSxDQUFDSyxJQUFJO0VBQ3JCLE9BQU8sSUFBSTtBQUNiO0FBRUFFLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHWCxRQUFRIn0=