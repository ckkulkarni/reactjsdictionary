36a5194d72ebe64a38f4407331190012
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
var _exportNames = {
  render: true,
  renderHook: true,
  cleanup: true,
  act: true,
  fireEvent: true
};
Object.defineProperty(exports, "act", {
  enumerable: true,
  get: function () {
    return _actCompat.default;
  }
});
exports.cleanup = cleanup;
Object.defineProperty(exports, "fireEvent", {
  enumerable: true,
  get: function () {
    return _fireEvent.fireEvent;
  }
});
exports.render = render;
exports.renderHook = renderHook;
var React = _interopRequireWildcard(require("react"));
var _reactDom = _interopRequireDefault(require("react-dom"));
var ReactDOMClient = _interopRequireWildcard(require("react-dom/client"));
var _dom = require("@testing-library/dom");
Object.keys(_dom).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _dom[key]) return;
  Object.defineProperty(exports, key, {
    enumerable: true,
    get: function () {
      return _dom[key];
    }
  });
});
var _actCompat = _interopRequireWildcard(require("./act-compat"));
var _fireEvent = require("./fire-event");
function _getRequireWildcardCache(nodeInterop) {
  if (typeof WeakMap !== "function") return null;
  var cacheBabelInterop = new WeakMap();
  var cacheNodeInterop = new WeakMap();
  return (_getRequireWildcardCache = function (nodeInterop) {
    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
  })(nodeInterop);
}
function _interopRequireWildcard(obj, nodeInterop) {
  if (!nodeInterop && obj && obj.__esModule) {
    return obj;
  }
  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }
  var cache = _getRequireWildcardCache(nodeInterop);
  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }
  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var key in obj) {
    if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }
  newObj.default = obj;
  if (cache) {
    cache.set(obj, newObj);
  }
  return newObj;
}
(0, _dom.configure)({
  unstable_advanceTimersWrapper: cb => {
    return (0, _actCompat.default)(cb);
  },
  // We just want to run `waitFor` without IS_REACT_ACT_ENVIRONMENT
  // But that's not necessarily how `asyncWrapper` is used since it's a public method.
  // Let's just hope nobody else is using it.
  asyncWrapper: async cb => {
    const previousActEnvironment = (0, _actCompat.getIsReactActEnvironment)();
    (0, _actCompat.setReactActEnvironment)(false);
    try {
      return await cb();
    } finally {
      (0, _actCompat.setReactActEnvironment)(previousActEnvironment);
    }
  },
  eventWrapper: cb => {
    let result;
    (0, _actCompat.default)(() => {
      result = cb();
    });
    return result;
  }
}); // Ideally we'd just use a WeakMap where containers are keys and roots are values.
// We use two variables so that we can bail out in constant time when we render with a new container (most common use case)

/**
 * @type {Set<import('react-dom').Container>}
 */

const mountedContainers = new Set();
/**
 * @type Array<{container: import('react-dom').Container, root: ReturnType<typeof createConcurrentRoot>}>
 */

const mountedRootEntries = [];
function createConcurrentRoot(container, {
  hydrate,
  ui,
  wrapper: WrapperComponent
}) {
  let root;
  if (hydrate) {
    (0, _actCompat.default)(() => {
      root = ReactDOMClient.hydrateRoot(container, WrapperComponent ? /*#__PURE__*/React.createElement(WrapperComponent, null, ui) : ui);
    });
  } else {
    root = ReactDOMClient.createRoot(container);
  }
  return {
    hydrate() {
      /* istanbul ignore if */
      if (!hydrate) {
        throw new Error('Attempted to hydrate a non-hydrateable root. This is a bug in `@testing-library/react`.');
      } // Nothing to do since hydration happens when creating the root object.
    },

    render(element) {
      root.render(element);
    },
    unmount() {
      root.unmount();
    }
  };
}
function createLegacyRoot(container) {
  return {
    hydrate(element) {
      _reactDom.default.hydrate(element, container);
    },
    render(element) {
      _reactDom.default.render(element, container);
    },
    unmount() {
      _reactDom.default.unmountComponentAtNode(container);
    }
  };
}
function renderRoot(ui, {
  baseElement,
  container,
  hydrate,
  queries,
  root,
  wrapper: WrapperComponent
}) {
  const wrapUiIfNeeded = innerElement => WrapperComponent ? /*#__PURE__*/React.createElement(WrapperComponent, null, innerElement) : innerElement;
  (0, _actCompat.default)(() => {
    if (hydrate) {
      root.hydrate(wrapUiIfNeeded(ui), container);
    } else {
      root.render(wrapUiIfNeeded(ui), container);
    }
  });
  return {
    container,
    baseElement,
    debug: (el = baseElement, maxLength, options) => Array.isArray(el) ?
    // eslint-disable-next-line no-console
    el.forEach(e => console.log((0, _dom.prettyDOM)(e, maxLength, options))) :
    // eslint-disable-next-line no-console,
    console.log((0, _dom.prettyDOM)(el, maxLength, options)),
    unmount: () => {
      (0, _actCompat.default)(() => {
        root.unmount();
      });
    },
    rerender: rerenderUi => {
      renderRoot(wrapUiIfNeeded(rerenderUi), {
        container,
        baseElement,
        root
      }); // Intentionally do not return anything to avoid unnecessarily complicating the API.
      // folks can use all the same utilities we return in the first place that are bound to the container
    },

    asFragment: () => {
      /* istanbul ignore else (old jsdom limitation) */
      if (typeof document.createRange === 'function') {
        return document.createRange().createContextualFragment(container.innerHTML);
      } else {
        const template = document.createElement('template');
        template.innerHTML = container.innerHTML;
        return template.content;
      }
    },
    ...(0, _dom.getQueriesForElement)(baseElement, queries)
  };
}
function render(ui, {
  container,
  baseElement = container,
  legacyRoot = false,
  queries,
  hydrate = false,
  wrapper
} = {}) {
  if (!baseElement) {
    // default to document.body instead of documentElement to avoid output of potentially-large
    // head elements (such as JSS style blocks) in debug output
    baseElement = document.body;
  }
  if (!container) {
    container = baseElement.appendChild(document.createElement('div'));
  }
  let root; // eslint-disable-next-line no-negated-condition -- we want to map the evolution of this over time. The root is created first. Only later is it re-used so we don't want to read the case that happens later first.

  if (!mountedContainers.has(container)) {
    const createRootImpl = legacyRoot ? createLegacyRoot : createConcurrentRoot;
    root = createRootImpl(container, {
      hydrate,
      ui,
      wrapper
    });
    mountedRootEntries.push({
      container,
      root
    }); // we'll add it to the mounted containers regardless of whether it's actually
    // added to document.body so the cleanup method works regardless of whether
    // they're passing us a custom container or not.

    mountedContainers.add(container);
  } else {
    mountedRootEntries.forEach(rootEntry => {
      // Else is unreachable since `mountedContainers` has the `container`.
      // Only reachable if one would accidentally add the container to `mountedContainers` but not the root to `mountedRootEntries`

      /* istanbul ignore else */
      if (rootEntry.container === container) {
        root = rootEntry.root;
      }
    });
  }
  return renderRoot(ui, {
    container,
    baseElement,
    queries,
    hydrate,
    wrapper,
    root
  });
}
function cleanup() {
  mountedRootEntries.forEach(({
    root,
    container
  }) => {
    (0, _actCompat.default)(() => {
      root.unmount();
    });
    if (container.parentNode === document.body) {
      document.body.removeChild(container);
    }
  });
  mountedRootEntries.length = 0;
  mountedContainers.clear();
}
function renderHook(renderCallback, options = {}) {
  const {
    initialProps,
    ...renderOptions
  } = options;
  const result = /*#__PURE__*/React.createRef();
  function TestComponent({
    renderCallbackProps
  }) {
    const pendingResult = renderCallback(renderCallbackProps);
    React.useEffect(() => {
      result.current = pendingResult;
    });
    return null;
  }
  const {
    rerender: baseRerender,
    unmount
  } = render( /*#__PURE__*/React.createElement(TestComponent, {
    renderCallbackProps: initialProps
  }), renderOptions);
  function rerender(rerenderCallbackProps) {
    return baseRerender( /*#__PURE__*/React.createElement(TestComponent, {
      renderCallbackProps: rerenderCallbackProps
    }));
  }
  return {
    result,
    rerender,
    unmount
  };
} // just re-export everything from dom-testing-library

/* eslint func-name-matching:0 */
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX2V4cG9ydE5hbWVzIiwicmVuZGVyIiwicmVuZGVySG9vayIsImNsZWFudXAiLCJhY3QiLCJmaXJlRXZlbnQiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiX2FjdENvbXBhdCIsImRlZmF1bHQiLCJfZmlyZUV2ZW50IiwiUmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9yZWFjdERvbSIsIlJlYWN0RE9NQ2xpZW50IiwiX2RvbSIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImNhY2hlIiwiaGFzIiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZGVzYyIsInNldCIsImNvbmZpZ3VyZSIsInVuc3RhYmxlX2FkdmFuY2VUaW1lcnNXcmFwcGVyIiwiY2IiLCJhc3luY1dyYXBwZXIiLCJwcmV2aW91c0FjdEVudmlyb25tZW50IiwiZ2V0SXNSZWFjdEFjdEVudmlyb25tZW50Iiwic2V0UmVhY3RBY3RFbnZpcm9ubWVudCIsImV2ZW50V3JhcHBlciIsInJlc3VsdCIsIm1vdW50ZWRDb250YWluZXJzIiwiU2V0IiwibW91bnRlZFJvb3RFbnRyaWVzIiwiY3JlYXRlQ29uY3VycmVudFJvb3QiLCJjb250YWluZXIiLCJoeWRyYXRlIiwidWkiLCJ3cmFwcGVyIiwiV3JhcHBlckNvbXBvbmVudCIsInJvb3QiLCJoeWRyYXRlUm9vdCIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVSb290IiwiRXJyb3IiLCJlbGVtZW50IiwidW5tb3VudCIsImNyZWF0ZUxlZ2FjeVJvb3QiLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwicmVuZGVyUm9vdCIsImJhc2VFbGVtZW50IiwicXVlcmllcyIsIndyYXBVaUlmTmVlZGVkIiwiaW5uZXJFbGVtZW50IiwiZGVidWciLCJlbCIsIm1heExlbmd0aCIsIm9wdGlvbnMiLCJBcnJheSIsImlzQXJyYXkiLCJlIiwiY29uc29sZSIsImxvZyIsInByZXR0eURPTSIsInJlcmVuZGVyIiwicmVyZW5kZXJVaSIsImFzRnJhZ21lbnQiLCJkb2N1bWVudCIsImNyZWF0ZVJhbmdlIiwiY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50IiwiaW5uZXJIVE1MIiwidGVtcGxhdGUiLCJjb250ZW50IiwiZ2V0UXVlcmllc0ZvckVsZW1lbnQiLCJsZWdhY3lSb290IiwiYm9keSIsImFwcGVuZENoaWxkIiwiY3JlYXRlUm9vdEltcGwiLCJwdXNoIiwiYWRkIiwicm9vdEVudHJ5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwibGVuZ3RoIiwiY2xlYXIiLCJyZW5kZXJDYWxsYmFjayIsImluaXRpYWxQcm9wcyIsInJlbmRlck9wdGlvbnMiLCJjcmVhdGVSZWYiLCJUZXN0Q29tcG9uZW50IiwicmVuZGVyQ2FsbGJhY2tQcm9wcyIsInBlbmRpbmdSZXN1bHQiLCJ1c2VFZmZlY3QiLCJjdXJyZW50IiwiYmFzZVJlcmVuZGVyIiwicmVyZW5kZXJDYWxsYmFja1Byb3BzIl0sInNvdXJjZXMiOlsicHVyZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgX2V4cG9ydE5hbWVzID0ge1xuICByZW5kZXI6IHRydWUsXG4gIHJlbmRlckhvb2s6IHRydWUsXG4gIGNsZWFudXA6IHRydWUsXG4gIGFjdDogdHJ1ZSxcbiAgZmlyZUV2ZW50OiB0cnVlXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYWN0XCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9hY3RDb21wYXQuZGVmYXVsdDtcbiAgfVxufSk7XG5leHBvcnRzLmNsZWFudXAgPSBjbGVhbnVwO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmlyZUV2ZW50XCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9maXJlRXZlbnQuZmlyZUV2ZW50O1xuICB9XG59KTtcbmV4cG9ydHMucmVuZGVyID0gcmVuZGVyO1xuZXhwb3J0cy5yZW5kZXJIb29rID0gcmVuZGVySG9vaztcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9yZWFjdERvbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcInJlYWN0LWRvbVwiKSk7XG5cbnZhciBSZWFjdERPTUNsaWVudCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdC1kb20vY2xpZW50XCIpKTtcblxudmFyIF9kb20gPSByZXF1aXJlKFwiQHRlc3RpbmctbGlicmFyeS9kb21cIik7XG5cbk9iamVjdC5rZXlzKF9kb20pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2V4cG9ydE5hbWVzLCBrZXkpKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9kb21ba2V5XSkgcmV0dXJuO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfZG9tW2tleV07XG4gICAgfVxuICB9KTtcbn0pO1xuXG52YXIgX2FjdENvbXBhdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuL2FjdC1jb21wYXRcIikpO1xuXG52YXIgX2ZpcmVFdmVudCA9IHJlcXVpcmUoXCIuL2ZpcmUtZXZlbnRcIik7XG5cbmZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZShub2RlSW50ZXJvcCkgeyBpZiAodHlwZW9mIFdlYWtNYXAgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG51bGw7IHZhciBjYWNoZUJhYmVsSW50ZXJvcCA9IG5ldyBXZWFrTWFwKCk7IHZhciBjYWNoZU5vZGVJbnRlcm9wID0gbmV3IFdlYWtNYXAoKTsgcmV0dXJuIChfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUgPSBmdW5jdGlvbiAobm9kZUludGVyb3ApIHsgcmV0dXJuIG5vZGVJbnRlcm9wID8gY2FjaGVOb2RlSW50ZXJvcCA6IGNhY2hlQmFiZWxJbnRlcm9wOyB9KShub2RlSW50ZXJvcCk7IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqLCBub2RlSW50ZXJvcCkgeyBpZiAoIW5vZGVJbnRlcm9wICYmIG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHsgcmV0dXJuIHsgZGVmYXVsdDogb2JqIH07IH0gdmFyIGNhY2hlID0gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKG5vZGVJbnRlcm9wKTsgaWYgKGNhY2hlICYmIGNhY2hlLmhhcyhvYmopKSB7IHJldHVybiBjYWNoZS5nZXQob2JqKTsgfSB2YXIgbmV3T2JqID0ge307IHZhciBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoa2V5ICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsOyBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyBpZiAoY2FjaGUpIHsgY2FjaGUuc2V0KG9iaiwgbmV3T2JqKTsgfSByZXR1cm4gbmV3T2JqOyB9XG5cbigwLCBfZG9tLmNvbmZpZ3VyZSkoe1xuICB1bnN0YWJsZV9hZHZhbmNlVGltZXJzV3JhcHBlcjogY2IgPT4ge1xuICAgIHJldHVybiAoMCwgX2FjdENvbXBhdC5kZWZhdWx0KShjYik7XG4gIH0sXG4gIC8vIFdlIGp1c3Qgd2FudCB0byBydW4gYHdhaXRGb3JgIHdpdGhvdXQgSVNfUkVBQ1RfQUNUX0VOVklST05NRU5UXG4gIC8vIEJ1dCB0aGF0J3Mgbm90IG5lY2Vzc2FyaWx5IGhvdyBgYXN5bmNXcmFwcGVyYCBpcyB1c2VkIHNpbmNlIGl0J3MgYSBwdWJsaWMgbWV0aG9kLlxuICAvLyBMZXQncyBqdXN0IGhvcGUgbm9ib2R5IGVsc2UgaXMgdXNpbmcgaXQuXG4gIGFzeW5jV3JhcHBlcjogYXN5bmMgY2IgPT4ge1xuICAgIGNvbnN0IHByZXZpb3VzQWN0RW52aXJvbm1lbnQgPSAoMCwgX2FjdENvbXBhdC5nZXRJc1JlYWN0QWN0RW52aXJvbm1lbnQpKCk7XG4gICAgKDAsIF9hY3RDb21wYXQuc2V0UmVhY3RBY3RFbnZpcm9ubWVudCkoZmFsc2UpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBjYigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAoMCwgX2FjdENvbXBhdC5zZXRSZWFjdEFjdEVudmlyb25tZW50KShwcmV2aW91c0FjdEVudmlyb25tZW50KTtcbiAgICB9XG4gIH0sXG4gIGV2ZW50V3JhcHBlcjogY2IgPT4ge1xuICAgIGxldCByZXN1bHQ7XG4gICAgKDAsIF9hY3RDb21wYXQuZGVmYXVsdCkoKCkgPT4ge1xuICAgICAgcmVzdWx0ID0gY2IoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59KTsgLy8gSWRlYWxseSB3ZSdkIGp1c3QgdXNlIGEgV2Vha01hcCB3aGVyZSBjb250YWluZXJzIGFyZSBrZXlzIGFuZCByb290cyBhcmUgdmFsdWVzLlxuLy8gV2UgdXNlIHR3byB2YXJpYWJsZXMgc28gdGhhdCB3ZSBjYW4gYmFpbCBvdXQgaW4gY29uc3RhbnQgdGltZSB3aGVuIHdlIHJlbmRlciB3aXRoIGEgbmV3IGNvbnRhaW5lciAobW9zdCBjb21tb24gdXNlIGNhc2UpXG5cbi8qKlxuICogQHR5cGUge1NldDxpbXBvcnQoJ3JlYWN0LWRvbScpLkNvbnRhaW5lcj59XG4gKi9cblxuY29uc3QgbW91bnRlZENvbnRhaW5lcnMgPSBuZXcgU2V0KCk7XG4vKipcbiAqIEB0eXBlIEFycmF5PHtjb250YWluZXI6IGltcG9ydCgncmVhY3QtZG9tJykuQ29udGFpbmVyLCByb290OiBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDb25jdXJyZW50Um9vdD59PlxuICovXG5cbmNvbnN0IG1vdW50ZWRSb290RW50cmllcyA9IFtdO1xuXG5mdW5jdGlvbiBjcmVhdGVDb25jdXJyZW50Um9vdChjb250YWluZXIsIHtcbiAgaHlkcmF0ZSxcbiAgdWksXG4gIHdyYXBwZXI6IFdyYXBwZXJDb21wb25lbnRcbn0pIHtcbiAgbGV0IHJvb3Q7XG5cbiAgaWYgKGh5ZHJhdGUpIHtcbiAgICAoMCwgX2FjdENvbXBhdC5kZWZhdWx0KSgoKSA9PiB7XG4gICAgICByb290ID0gUmVhY3RET01DbGllbnQuaHlkcmF0ZVJvb3QoY29udGFpbmVyLCBXcmFwcGVyQ29tcG9uZW50ID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlckNvbXBvbmVudCwgbnVsbCwgdWkpIDogdWkpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJvb3QgPSBSZWFjdERPTUNsaWVudC5jcmVhdGVSb290KGNvbnRhaW5lcik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGh5ZHJhdGUoKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICghaHlkcmF0ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byBoeWRyYXRlIGEgbm9uLWh5ZHJhdGVhYmxlIHJvb3QuIFRoaXMgaXMgYSBidWcgaW4gYEB0ZXN0aW5nLWxpYnJhcnkvcmVhY3RgLicpO1xuICAgICAgfSAvLyBOb3RoaW5nIHRvIGRvIHNpbmNlIGh5ZHJhdGlvbiBoYXBwZW5zIHdoZW4gY3JlYXRpbmcgdGhlIHJvb3Qgb2JqZWN0LlxuXG4gICAgfSxcblxuICAgIHJlbmRlcihlbGVtZW50KSB7XG4gICAgICByb290LnJlbmRlcihlbGVtZW50KTtcbiAgICB9LFxuXG4gICAgdW5tb3VudCgpIHtcbiAgICAgIHJvb3QudW5tb3VudCgpO1xuICAgIH1cblxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMZWdhY3lSb290KGNvbnRhaW5lcikge1xuICByZXR1cm4ge1xuICAgIGh5ZHJhdGUoZWxlbWVudCkge1xuICAgICAgX3JlYWN0RG9tLmRlZmF1bHQuaHlkcmF0ZShlbGVtZW50LCBjb250YWluZXIpO1xuICAgIH0sXG5cbiAgICByZW5kZXIoZWxlbWVudCkge1xuICAgICAgX3JlYWN0RG9tLmRlZmF1bHQucmVuZGVyKGVsZW1lbnQsIGNvbnRhaW5lcik7XG4gICAgfSxcblxuICAgIHVubW91bnQoKSB7XG4gICAgICBfcmVhY3REb20uZGVmYXVsdC51bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlbmRlclJvb3QodWksIHtcbiAgYmFzZUVsZW1lbnQsXG4gIGNvbnRhaW5lcixcbiAgaHlkcmF0ZSxcbiAgcXVlcmllcyxcbiAgcm9vdCxcbiAgd3JhcHBlcjogV3JhcHBlckNvbXBvbmVudFxufSkge1xuICBjb25zdCB3cmFwVWlJZk5lZWRlZCA9IGlubmVyRWxlbWVudCA9PiBXcmFwcGVyQ29tcG9uZW50ID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlckNvbXBvbmVudCwgbnVsbCwgaW5uZXJFbGVtZW50KSA6IGlubmVyRWxlbWVudDtcblxuICAoMCwgX2FjdENvbXBhdC5kZWZhdWx0KSgoKSA9PiB7XG4gICAgaWYgKGh5ZHJhdGUpIHtcbiAgICAgIHJvb3QuaHlkcmF0ZSh3cmFwVWlJZk5lZWRlZCh1aSksIGNvbnRhaW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3QucmVuZGVyKHdyYXBVaUlmTmVlZGVkKHVpKSwgY29udGFpbmVyKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGNvbnRhaW5lcixcbiAgICBiYXNlRWxlbWVudCxcbiAgICBkZWJ1ZzogKGVsID0gYmFzZUVsZW1lbnQsIG1heExlbmd0aCwgb3B0aW9ucykgPT4gQXJyYXkuaXNBcnJheShlbCkgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGVsLmZvckVhY2goZSA9PiBjb25zb2xlLmxvZygoMCwgX2RvbS5wcmV0dHlET00pKGUsIG1heExlbmd0aCwgb3B0aW9ucykpKSA6IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlLFxuICAgIGNvbnNvbGUubG9nKCgwLCBfZG9tLnByZXR0eURPTSkoZWwsIG1heExlbmd0aCwgb3B0aW9ucykpLFxuICAgIHVubW91bnQ6ICgpID0+IHtcbiAgICAgICgwLCBfYWN0Q29tcGF0LmRlZmF1bHQpKCgpID0+IHtcbiAgICAgICAgcm9vdC51bm1vdW50KCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHJlcmVuZGVyOiByZXJlbmRlclVpID0+IHtcbiAgICAgIHJlbmRlclJvb3Qod3JhcFVpSWZOZWVkZWQocmVyZW5kZXJVaSksIHtcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBiYXNlRWxlbWVudCxcbiAgICAgICAgcm9vdFxuICAgICAgfSk7IC8vIEludGVudGlvbmFsbHkgZG8gbm90IHJldHVybiBhbnl0aGluZyB0byBhdm9pZCB1bm5lY2Vzc2FyaWx5IGNvbXBsaWNhdGluZyB0aGUgQVBJLlxuICAgICAgLy8gZm9sa3MgY2FuIHVzZSBhbGwgdGhlIHNhbWUgdXRpbGl0aWVzIHdlIHJldHVybiBpbiB0aGUgZmlyc3QgcGxhY2UgdGhhdCBhcmUgYm91bmQgdG8gdGhlIGNvbnRhaW5lclxuICAgIH0sXG4gICAgYXNGcmFnbWVudDogKCkgPT4ge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKG9sZCBqc2RvbSBsaW1pdGF0aW9uKSAqL1xuICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5jcmVhdGVSYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoY29udGFpbmVyLmlubmVySFRNTCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IGNvbnRhaW5lci5pbm5lckhUTUw7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZS5jb250ZW50O1xuICAgICAgfVxuICAgIH0sXG4gICAgLi4uKDAsIF9kb20uZ2V0UXVlcmllc0ZvckVsZW1lbnQpKGJhc2VFbGVtZW50LCBxdWVyaWVzKVxuICB9O1xufVxuXG5mdW5jdGlvbiByZW5kZXIodWksIHtcbiAgY29udGFpbmVyLFxuICBiYXNlRWxlbWVudCA9IGNvbnRhaW5lcixcbiAgbGVnYWN5Um9vdCA9IGZhbHNlLFxuICBxdWVyaWVzLFxuICBoeWRyYXRlID0gZmFsc2UsXG4gIHdyYXBwZXJcbn0gPSB7fSkge1xuICBpZiAoIWJhc2VFbGVtZW50KSB7XG4gICAgLy8gZGVmYXVsdCB0byBkb2N1bWVudC5ib2R5IGluc3RlYWQgb2YgZG9jdW1lbnRFbGVtZW50IHRvIGF2b2lkIG91dHB1dCBvZiBwb3RlbnRpYWxseS1sYXJnZVxuICAgIC8vIGhlYWQgZWxlbWVudHMgKHN1Y2ggYXMgSlNTIHN0eWxlIGJsb2NrcykgaW4gZGVidWcgb3V0cHV0XG4gICAgYmFzZUVsZW1lbnQgPSBkb2N1bWVudC5ib2R5O1xuICB9XG5cbiAgaWYgKCFjb250YWluZXIpIHtcbiAgICBjb250YWluZXIgPSBiYXNlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG4gIH1cblxuICBsZXQgcm9vdDsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lZ2F0ZWQtY29uZGl0aW9uIC0tIHdlIHdhbnQgdG8gbWFwIHRoZSBldm9sdXRpb24gb2YgdGhpcyBvdmVyIHRpbWUuIFRoZSByb290IGlzIGNyZWF0ZWQgZmlyc3QuIE9ubHkgbGF0ZXIgaXMgaXQgcmUtdXNlZCBzbyB3ZSBkb24ndCB3YW50IHRvIHJlYWQgdGhlIGNhc2UgdGhhdCBoYXBwZW5zIGxhdGVyIGZpcnN0LlxuXG4gIGlmICghbW91bnRlZENvbnRhaW5lcnMuaGFzKGNvbnRhaW5lcikpIHtcbiAgICBjb25zdCBjcmVhdGVSb290SW1wbCA9IGxlZ2FjeVJvb3QgPyBjcmVhdGVMZWdhY3lSb290IDogY3JlYXRlQ29uY3VycmVudFJvb3Q7XG4gICAgcm9vdCA9IGNyZWF0ZVJvb3RJbXBsKGNvbnRhaW5lciwge1xuICAgICAgaHlkcmF0ZSxcbiAgICAgIHVpLFxuICAgICAgd3JhcHBlclxuICAgIH0pO1xuICAgIG1vdW50ZWRSb290RW50cmllcy5wdXNoKHtcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHJvb3RcbiAgICB9KTsgLy8gd2UnbGwgYWRkIGl0IHRvIHRoZSBtb3VudGVkIGNvbnRhaW5lcnMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIGl0J3MgYWN0dWFsbHlcbiAgICAvLyBhZGRlZCB0byBkb2N1bWVudC5ib2R5IHNvIHRoZSBjbGVhbnVwIG1ldGhvZCB3b3JrcyByZWdhcmRsZXNzIG9mIHdoZXRoZXJcbiAgICAvLyB0aGV5J3JlIHBhc3NpbmcgdXMgYSBjdXN0b20gY29udGFpbmVyIG9yIG5vdC5cblxuICAgIG1vdW50ZWRDb250YWluZXJzLmFkZChjb250YWluZXIpO1xuICB9IGVsc2Uge1xuICAgIG1vdW50ZWRSb290RW50cmllcy5mb3JFYWNoKHJvb3RFbnRyeSA9PiB7XG4gICAgICAvLyBFbHNlIGlzIHVucmVhY2hhYmxlIHNpbmNlIGBtb3VudGVkQ29udGFpbmVyc2AgaGFzIHRoZSBgY29udGFpbmVyYC5cbiAgICAgIC8vIE9ubHkgcmVhY2hhYmxlIGlmIG9uZSB3b3VsZCBhY2NpZGVudGFsbHkgYWRkIHRoZSBjb250YWluZXIgdG8gYG1vdW50ZWRDb250YWluZXJzYCBidXQgbm90IHRoZSByb290IHRvIGBtb3VudGVkUm9vdEVudHJpZXNgXG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocm9vdEVudHJ5LmNvbnRhaW5lciA9PT0gY29udGFpbmVyKSB7XG4gICAgICAgIHJvb3QgPSByb290RW50cnkucm9vdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiByZW5kZXJSb290KHVpLCB7XG4gICAgY29udGFpbmVyLFxuICAgIGJhc2VFbGVtZW50LFxuICAgIHF1ZXJpZXMsXG4gICAgaHlkcmF0ZSxcbiAgICB3cmFwcGVyLFxuICAgIHJvb3RcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gIG1vdW50ZWRSb290RW50cmllcy5mb3JFYWNoKCh7XG4gICAgcm9vdCxcbiAgICBjb250YWluZXJcbiAgfSkgPT4ge1xuICAgICgwLCBfYWN0Q29tcGF0LmRlZmF1bHQpKCgpID0+IHtcbiAgICAgIHJvb3QudW5tb3VudCgpO1xuICAgIH0pO1xuXG4gICAgaWYgKGNvbnRhaW5lci5wYXJlbnROb2RlID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gICAgfVxuICB9KTtcbiAgbW91bnRlZFJvb3RFbnRyaWVzLmxlbmd0aCA9IDA7XG4gIG1vdW50ZWRDb250YWluZXJzLmNsZWFyKCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckhvb2socmVuZGVyQ2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgaW5pdGlhbFByb3BzLFxuICAgIC4uLnJlbmRlck9wdGlvbnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlc3VsdCA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVSZWYoKTtcblxuICBmdW5jdGlvbiBUZXN0Q29tcG9uZW50KHtcbiAgICByZW5kZXJDYWxsYmFja1Byb3BzXG4gIH0pIHtcbiAgICBjb25zdCBwZW5kaW5nUmVzdWx0ID0gcmVuZGVyQ2FsbGJhY2socmVuZGVyQ2FsbGJhY2tQcm9wcyk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50ID0gcGVuZGluZ1Jlc3VsdDtcbiAgICB9KTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICByZXJlbmRlcjogYmFzZVJlcmVuZGVyLFxuICAgIHVubW91bnRcbiAgfSA9IHJlbmRlciggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGVzdENvbXBvbmVudCwge1xuICAgIHJlbmRlckNhbGxiYWNrUHJvcHM6IGluaXRpYWxQcm9wc1xuICB9KSwgcmVuZGVyT3B0aW9ucyk7XG5cbiAgZnVuY3Rpb24gcmVyZW5kZXIocmVyZW5kZXJDYWxsYmFja1Byb3BzKSB7XG4gICAgcmV0dXJuIGJhc2VSZXJlbmRlciggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGVzdENvbXBvbmVudCwge1xuICAgICAgcmVuZGVyQ2FsbGJhY2tQcm9wczogcmVyZW5kZXJDYWxsYmFja1Byb3BzXG4gICAgfSkpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXN1bHQsXG4gICAgcmVyZW5kZXIsXG4gICAgdW5tb3VudFxuICB9O1xufSAvLyBqdXN0IHJlLWV4cG9ydCBldmVyeXRoaW5nIGZyb20gZG9tLXRlc3RpbmctbGlicmFyeVxuXG4vKiBlc2xpbnQgZnVuYy1uYW1lLW1hdGNoaW5nOjAgKi8iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVosSUFBSUEsc0JBQXNCLEdBQUdDLE9BQU8sQ0FBQyw4Q0FBOEMsQ0FBQztBQUVwRkMsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxZQUFZLEVBQUU7RUFDM0NDLEtBQUssRUFBRTtBQUNULENBQUMsQ0FBQztBQUNGLElBQUlDLFlBQVksR0FBRztFQUNqQkMsTUFBTSxFQUFFLElBQUk7RUFDWkMsVUFBVSxFQUFFLElBQUk7RUFDaEJDLE9BQU8sRUFBRSxJQUFJO0VBQ2JDLEdBQUcsRUFBRSxJQUFJO0VBQ1RDLFNBQVMsRUFBRTtBQUNiLENBQUM7QUFDRFQsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxLQUFLLEVBQUU7RUFDcENRLFVBQVUsRUFBRSxJQUFJO0VBQ2hCQyxHQUFHLEVBQUUsU0FBQUEsQ0FBQSxFQUFZO0lBQ2YsT0FBT0MsVUFBVSxDQUFDQyxPQUFPO0VBQzNCO0FBQ0YsQ0FBQyxDQUFDO0FBQ0ZYLE9BQU8sQ0FBQ0ssT0FBTyxHQUFHQSxP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