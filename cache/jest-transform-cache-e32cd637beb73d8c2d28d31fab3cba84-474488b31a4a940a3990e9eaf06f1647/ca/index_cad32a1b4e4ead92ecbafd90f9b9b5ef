a7161798ac78156524f8db0cbacc6800
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
Object.defineProperty(exports, 'CallbackTestRunner', {
  enumerable: true,
  get: function () {
    return _types.CallbackTestRunner;
  }
});
Object.defineProperty(exports, 'EmittingTestRunner', {
  enumerable: true,
  get: function () {
    return _types.EmittingTestRunner;
  }
});
exports.default = void 0;
function _chalk() {
  const data = _interopRequireDefault(require('chalk'));
  _chalk = function () {
    return data;
  };
  return data;
}
function _emittery() {
  const data = _interopRequireDefault(require('emittery'));
  _emittery = function () {
    return data;
  };
  return data;
}
function _pLimit() {
  const data = _interopRequireDefault(require('p-limit'));
  _pLimit = function () {
    return data;
  };
  return data;
}
function _jestUtil() {
  const data = require('jest-util');
  _jestUtil = function () {
    return data;
  };
  return data;
}
function _jestWorker() {
  const data = require('jest-worker');
  _jestWorker = function () {
    return data;
  };
  return data;
}
var _runTest = _interopRequireDefault(require('./runTest'));
var _types = require('./types');
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

class TestRunner extends _types.EmittingTestRunner {
  #eventEmitter = new (_emittery().default)();
  async runTests(tests, watcher, options) {
    return options.serial ? this.#createInBandTestRun(tests, watcher) : this.#createParallelTestRun(tests, watcher);
  }
  async #createInBandTestRun(tests, watcher) {
    process.env.JEST_WORKER_ID = '1';
    const mutex = (0, _pLimit().default)(1);
    return tests.reduce((promise, test) => mutex(() => promise.then(async () => {
      if (watcher.isInterrupted()) {
        throw new CancelRun();
      }

      // `deepCyclicCopy` used here to avoid mem-leak
      const sendMessageToJest = (eventName, args) => this.#eventEmitter.emit(eventName, (0, _jestUtil().deepCyclicCopy)(args, {
        keepPrototype: false
      }));
      await this.#eventEmitter.emit('test-file-start', [test]);
      return (0, _runTest.default)(test.path, this._globalConfig, test.context.config, test.context.resolver, this._context, sendMessageToJest);
    }).then(result => this.#eventEmitter.emit('test-file-success', [test, result]), error => this.#eventEmitter.emit('test-file-failure', [test, error]))), Promise.resolve());
  }
  async #createParallelTestRun(tests, watcher) {
    const resolvers = new Map();
    for (const test of tests) {
      if (!resolvers.has(test.context.config.id)) {
        resolvers.set(test.context.config.id, {
          config: test.context.config,
          serializableModuleMap: test.context.moduleMap.toJSON()
        });
      }
    }
    const worker = new (_jestWorker().Worker)(require.resolve('./testWorker'), {
      enableWorkerThreads: this._globalConfig.workerThreads,
      exposedMethods: ['worker'],
      forkOptions: {
        serialization: 'json',
        stdio: 'pipe'
      },
      // The workerIdleMemoryLimit should've been converted to a number during
      // the normalization phase.
      idleMemoryLimit: typeof this._globalConfig.workerIdleMemoryLimit === 'number' ? this._globalConfig.workerIdleMemoryLimit : undefined,
      maxRetries: 3,
      numWorkers: this._globalConfig.maxWorkers,
      setupArgs: [{
        serializableResolvers: Array.from(resolvers.values())
      }]
    });
    if (worker.getStdout()) worker.getStdout().pipe(process.stdout);
    if (worker.getStderr()) worker.getStderr().pipe(process.stderr);
    const mutex = (0, _pLimit().default)(this._globalConfig.maxWorkers);

    // Send test suites to workers continuously instead of all at once to track
    // the start time of individual tests.
    const runTestInWorker = test => mutex(async () => {
      if (watcher.isInterrupted()) {
        return Promise.reject();
      }
      await this.#eventEmitter.emit('test-file-start', [test]);
      const promise = worker.worker({
        config: test.context.config,
        context: {
          ...this._context,
          changedFiles: this._context.changedFiles && Array.from(this._context.changedFiles),
          sourcesRelatedToTestsInChangedFiles: this._context.sourcesRelatedToTestsInChangedFiles && Array.from(this._context.sourcesRelatedToTestsInChangedFiles)
        },
        globalConfig: this._globalConfig,
        path: test.path
      });
      if (promise.UNSTABLE_onCustomMessage) {
        // TODO: Get appropriate type for `onCustomMessage`
        promise.UNSTABLE_onCustomMessage(([event, payload]) => this.#eventEmitter.emit(event, payload));
      }
      return promise;
    });
    const onInterrupt = new Promise((_, reject) => {
      watcher.on('change', state => {
        if (state.interrupted) {
          reject(new CancelRun());
        }
      });
    });
    const runAllTests = Promise.all(tests.map(test => runTestInWorker(test).then(result => this.#eventEmitter.emit('test-file-success', [test, result]), error => this.#eventEmitter.emit('test-file-failure', [test, error]))));
    const cleanup = async () => {
      const {
        forceExited
      } = await worker.end();
      if (forceExited) {
        console.error(_chalk().default.yellow('A worker process has failed to exit gracefully and has been force exited. ' + 'This is likely caused by tests leaking due to improper teardown. ' + 'Try running with --detectOpenHandles to find leaks. ' + 'Active timers can also cause this, ensure that .unref() was called on them.'));
      }
    };
    return Promise.race([runAllTests, onInterrupt]).then(cleanup, cleanup);
  }
  on(eventName, listener) {
    return this.#eventEmitter.on(eventName, listener);
  }
}
exports.default = TestRunner;
class CancelRun extends Error {
  constructor(message) {
    super(message);
    this.name = 'CancelRun';
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJnZXQiLCJfdHlwZXMiLCJDYWxsYmFja1Rlc3RSdW5uZXIiLCJFbWl0dGluZ1Rlc3RSdW5uZXIiLCJkZWZhdWx0IiwiX2NoYWxrIiwiZGF0YSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2VtaXR0ZXJ5IiwiX3BMaW1pdCIsIl9qZXN0VXRpbCIsIl9qZXN0V29ya2VyIiwiX3J1blRlc3QiLCJvYmoiLCJfX2VzTW9kdWxlIiwiVGVzdFJ1bm5lciIsImV2ZW50RW1pdHRlciIsInJ1blRlc3RzIiwidGVzdHMiLCJ3YXRjaGVyIiwib3B0aW9ucyIsInNlcmlhbCIsImNyZWF0ZUluQmFuZFRlc3RSdW4iLCJjcmVhdGVQYXJhbGxlbFRlc3RSdW4iLCIjY3JlYXRlSW5CYW5kVGVzdFJ1biIsInByb2Nlc3MiLCJlbnYiLCJKRVNUX1dPUktFUl9JRCIsIm11dGV4IiwicmVkdWNlIiwicHJvbWlzZSIsInRlc3QiLCJ0aGVuIiwiaXNJbnRlcnJ1cHRlZCIsIkNhbmNlbFJ1biIsInNlbmRNZXNzYWdlVG9KZXN0IiwiZXZlbnROYW1lIiwiYXJncyIsImVtaXQiLCJkZWVwQ3ljbGljQ29weSIsImtlZXBQcm90b3R5cGUiLCJwYXRoIiwiX2dsb2JhbENvbmZpZyIsImNvbnRleHQiLCJjb25maWciLCJyZXNvbHZlciIsIl9jb250ZXh0IiwicmVzdWx0IiwiZXJyb3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsIiNjcmVhdGVQYXJhbGxlbFRlc3RSdW4iLCJyZXNvbHZlcnMiLCJNYXAiLCJoYXMiLCJpZCIsInNldCIsInNlcmlhbGl6YWJsZU1vZHVsZU1hcCIsIm1vZHVsZU1hcCIsInRvSlNPTiIsIndvcmtlciIsIldvcmtlciIsImVuYWJsZVdvcmtlclRocmVhZHMiLCJ3b3JrZXJUaHJlYWRzIiwiZXhwb3NlZE1ldGhvZHMiLCJmb3JrT3B0aW9ucyIsInNlcmlhbGl6YXRpb24iLCJzdGRpbyIsImlkbGVNZW1vcnlMaW1pdCIsIndvcmtlcklkbGVNZW1vcnlMaW1pdCIsInVuZGVmaW5lZCIsIm1heFJldHJpZXMiLCJudW1Xb3JrZXJzIiwibWF4V29ya2VycyIsInNldHVwQXJncyIsInNlcmlhbGl6YWJsZVJlc29sdmVycyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImdldFN0ZG91dCIsInBpcGUiLCJzdGRvdXQiLCJnZXRTdGRlcnIiLCJzdGRlcnIiLCJydW5UZXN0SW5Xb3JrZXIiLCJyZWplY3QiLCJjaGFuZ2VkRmlsZXMiLCJzb3VyY2VzUmVsYXRlZFRvVGVzdHNJbkNoYW5nZWRGaWxlcyIsImdsb2JhbENvbmZpZyIsIlVOU1RBQkxFX29uQ3VzdG9tTWVzc2FnZSIsImV2ZW50IiwicGF5bG9hZCIsIm9uSW50ZXJydXB0IiwiXyIsIm9uIiwic3RhdGUiLCJpbnRlcnJ1cHRlZCIsInJ1bkFsbFRlc3RzIiwiYWxsIiwibWFwIiwiY2xlYW51cCIsImZvcmNlRXhpdGVkIiwiZW5kIiwiY29uc29sZSIsInllbGxvdyIsInJhY2UiLCJsaXN0ZW5lciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwibmFtZSJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NhbGxiYWNrVGVzdFJ1bm5lcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90eXBlcy5DYWxsYmFja1Rlc3RSdW5uZXI7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdFbWl0dGluZ1Rlc3RSdW5uZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdHlwZXMuRW1pdHRpbmdUZXN0UnVubmVyO1xuICB9XG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbmZ1bmN0aW9uIF9jaGFsaygpIHtcbiAgY29uc3QgZGF0YSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgnY2hhbGsnKSk7XG4gIF9jaGFsayA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcbiAgcmV0dXJuIGRhdGE7XG59XG5mdW5jdGlvbiBfZW1pdHRlcnkoKSB7XG4gIGNvbnN0IGRhdGEgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoJ2VtaXR0ZXJ5JykpO1xuICBfZW1pdHRlcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gX3BMaW1pdCgpIHtcbiAgY29uc3QgZGF0YSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgncC1saW1pdCcpKTtcbiAgX3BMaW1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcbiAgcmV0dXJuIGRhdGE7XG59XG5mdW5jdGlvbiBfamVzdFV0aWwoKSB7XG4gIGNvbnN0IGRhdGEgPSByZXF1aXJlKCdqZXN0LXV0aWwnKTtcbiAgX2plc3RVdGlsID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIF9qZXN0V29ya2VyKCkge1xuICBjb25zdCBkYXRhID0gcmVxdWlyZSgnamVzdC13b3JrZXInKTtcbiAgX2plc3RXb3JrZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG4gIHJldHVybiBkYXRhO1xufVxudmFyIF9ydW5UZXN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCcuL3J1blRlc3QnKSk7XG52YXIgX3R5cGVzID0gcmVxdWlyZSgnLi90eXBlcycpO1xuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtkZWZhdWx0OiBvYmp9O1xufVxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmNsYXNzIFRlc3RSdW5uZXIgZXh0ZW5kcyBfdHlwZXMuRW1pdHRpbmdUZXN0UnVubmVyIHtcbiAgI2V2ZW50RW1pdHRlciA9IG5ldyAoX2VtaXR0ZXJ5KCkuZGVmYXVsdCkoKTtcbiAgYXN5bmMgcnVuVGVzdHModGVzdHMsIHdhdGNoZXIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5zZXJpYWxcbiAgICAgID8gdGhpcy4jY3JlYXRlSW5CYW5kVGVzdFJ1bih0ZXN0cywgd2F0Y2hlcilcbiAgICAgIDogdGhpcy4jY3JlYXRlUGFyYWxsZWxUZXN0UnVuKHRlc3RzLCB3YXRjaGVyKTtcbiAgfVxuICBhc3luYyAjY3JlYXRlSW5CYW5kVGVzdFJ1bih0ZXN0cywgd2F0Y2hlcikge1xuICAgIHByb2Nlc3MuZW52LkpFU1RfV09SS0VSX0lEID0gJzEnO1xuICAgIGNvbnN0IG11dGV4ID0gKDAsIF9wTGltaXQoKS5kZWZhdWx0KSgxKTtcbiAgICByZXR1cm4gdGVzdHMucmVkdWNlKFxuICAgICAgKHByb21pc2UsIHRlc3QpID0+XG4gICAgICAgIG11dGV4KCgpID0+XG4gICAgICAgICAgcHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAod2F0Y2hlci5pc0ludGVycnVwdGVkKCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2FuY2VsUnVuKCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBgZGVlcEN5Y2xpY0NvcHlgIHVzZWQgaGVyZSB0byBhdm9pZCBtZW0tbGVha1xuICAgICAgICAgICAgICBjb25zdCBzZW5kTWVzc2FnZVRvSmVzdCA9IChldmVudE5hbWUsIGFyZ3MpID0+XG4gICAgICAgICAgICAgICAgdGhpcy4jZXZlbnRFbWl0dGVyLmVtaXQoXG4gICAgICAgICAgICAgICAgICBldmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAoMCwgX2plc3RVdGlsKCkuZGVlcEN5Y2xpY0NvcHkpKGFyZ3MsIHtcbiAgICAgICAgICAgICAgICAgICAga2VlcFByb3RvdHlwZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy4jZXZlbnRFbWl0dGVyLmVtaXQoJ3Rlc3QtZmlsZS1zdGFydCcsIFt0ZXN0XSk7XG4gICAgICAgICAgICAgIHJldHVybiAoMCwgX3J1blRlc3QuZGVmYXVsdCkoXG4gICAgICAgICAgICAgICAgdGVzdC5wYXRoLFxuICAgICAgICAgICAgICAgIHRoaXMuX2dsb2JhbENvbmZpZyxcbiAgICAgICAgICAgICAgICB0ZXN0LmNvbnRleHQuY29uZmlnLFxuICAgICAgICAgICAgICAgIHRlc3QuY29udGV4dC5yZXNvbHZlcixcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250ZXh0LFxuICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlVG9KZXN0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgIHJlc3VsdCA9PlxuICAgICAgICAgICAgICAgIHRoaXMuI2V2ZW50RW1pdHRlci5lbWl0KCd0ZXN0LWZpbGUtc3VjY2VzcycsIFt0ZXN0LCByZXN1bHRdKSxcbiAgICAgICAgICAgICAgZXJyb3IgPT5cbiAgICAgICAgICAgICAgICB0aGlzLiNldmVudEVtaXR0ZXIuZW1pdCgndGVzdC1maWxlLWZhaWx1cmUnLCBbdGVzdCwgZXJyb3JdKVxuICAgICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICApO1xuICB9XG4gIGFzeW5jICNjcmVhdGVQYXJhbGxlbFRlc3RSdW4odGVzdHMsIHdhdGNoZXIpIHtcbiAgICBjb25zdCByZXNvbHZlcnMgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCB0ZXN0IG9mIHRlc3RzKSB7XG4gICAgICBpZiAoIXJlc29sdmVycy5oYXModGVzdC5jb250ZXh0LmNvbmZpZy5pZCkpIHtcbiAgICAgICAgcmVzb2x2ZXJzLnNldCh0ZXN0LmNvbnRleHQuY29uZmlnLmlkLCB7XG4gICAgICAgICAgY29uZmlnOiB0ZXN0LmNvbnRleHQuY29uZmlnLFxuICAgICAgICAgIHNlcmlhbGl6YWJsZU1vZHVsZU1hcDogdGVzdC5jb250ZXh0Lm1vZHVsZU1hcC50b0pTT04oKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgd29ya2VyID0gbmV3IChfamVzdFdvcmtlcigpLldvcmtlcikocmVxdWlyZS5yZXNvbHZlKCcuL3Rlc3RXb3JrZXInKSwge1xuICAgICAgZW5hYmxlV29ya2VyVGhyZWFkczogdGhpcy5fZ2xvYmFsQ29uZmlnLndvcmtlclRocmVhZHMsXG4gICAgICBleHBvc2VkTWV0aG9kczogWyd3b3JrZXInXSxcbiAgICAgIGZvcmtPcHRpb25zOiB7XG4gICAgICAgIHNlcmlhbGl6YXRpb246ICdqc29uJyxcbiAgICAgICAgc3RkaW86ICdwaXBlJ1xuICAgICAgfSxcbiAgICAgIC8vIFRoZSB3b3JrZXJJZGxlTWVtb3J5TGltaXQgc2hvdWxkJ3ZlIGJlZW4gY29udmVydGVkIHRvIGEgbnVtYmVyIGR1cmluZ1xuICAgICAgLy8gdGhlIG5vcm1hbGl6YXRpb24gcGhhc2UuXG4gICAgICBpZGxlTWVtb3J5TGltaXQ6XG4gICAgICAgIHR5cGVvZiB0aGlzLl9nbG9iYWxDb25maWcud29ya2VySWRsZU1lbW9yeUxpbWl0ID09PSAnbnVtYmVyJ1xuICAgICAgICAgID8gdGhpcy5fZ2xvYmFsQ29uZmlnLndvcmtlcklkbGVNZW1vcnlMaW1pdFxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgbWF4UmV0cmllczogMyxcbiAgICAgIG51bVdvcmtlcnM6IHRoaXMuX2dsb2JhbENvbmZpZy5tYXhXb3JrZXJzLFxuICAgICAgc2V0dXBBcmdzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzZXJpYWxpemFibGVSZXNvbHZlcnM6IEFycmF5LmZyb20ocmVzb2x2ZXJzLnZhbHVlcygpKVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gICAgaWYgKHdvcmtlci5nZXRTdGRvdXQoKSkgd29ya2VyLmdldFN0ZG91dCgpLnBpcGUocHJvY2Vzcy5zdGRvdXQpO1xuICAgIGlmICh3b3JrZXIuZ2V0U3RkZXJyKCkpIHdvcmtlci5nZXRTdGRlcnIoKS5waXBlKHByb2Nlc3Muc3RkZXJyKTtcbiAgICBjb25zdCBtdXRleCA9ICgwLCBfcExpbWl0KCkuZGVmYXVsdCkodGhpcy5fZ2xvYmFsQ29uZmlnLm1heFdvcmtlcnMpO1xuXG4gICAgLy8gU2VuZCB0ZXN0IHN1aXRlcyB0byB3b3JrZXJzIGNvbnRpbnVvdXNseSBpbnN0ZWFkIG9mIGFsbCBhdCBvbmNlIHRvIHRyYWNrXG4gICAgLy8gdGhlIHN0YXJ0IHRpbWUgb2YgaW5kaXZpZHVhbCB0ZXN0cy5cbiAgICBjb25zdCBydW5UZXN0SW5Xb3JrZXIgPSB0ZXN0ID0+XG4gICAgICBtdXRleChhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICh3YXRjaGVyLmlzSW50ZXJydXB0ZWQoKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuI2V2ZW50RW1pdHRlci5lbWl0KCd0ZXN0LWZpbGUtc3RhcnQnLCBbdGVzdF0pO1xuICAgICAgICBjb25zdCBwcm9taXNlID0gd29ya2VyLndvcmtlcih7XG4gICAgICAgICAgY29uZmlnOiB0ZXN0LmNvbnRleHQuY29uZmlnLFxuICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbnRleHQsXG4gICAgICAgICAgICBjaGFuZ2VkRmlsZXM6XG4gICAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuY2hhbmdlZEZpbGVzICYmXG4gICAgICAgICAgICAgIEFycmF5LmZyb20odGhpcy5fY29udGV4dC5jaGFuZ2VkRmlsZXMpLFxuICAgICAgICAgICAgc291cmNlc1JlbGF0ZWRUb1Rlc3RzSW5DaGFuZ2VkRmlsZXM6XG4gICAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuc291cmNlc1JlbGF0ZWRUb1Rlc3RzSW5DaGFuZ2VkRmlsZXMgJiZcbiAgICAgICAgICAgICAgQXJyYXkuZnJvbSh0aGlzLl9jb250ZXh0LnNvdXJjZXNSZWxhdGVkVG9UZXN0c0luQ2hhbmdlZEZpbGVzKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2xvYmFsQ29uZmlnOiB0aGlzLl9nbG9iYWxDb25maWcsXG4gICAgICAgICAgcGF0aDogdGVzdC5wYXRoXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJvbWlzZS5VTlNUQUJMRV9vbkN1c3RvbU1lc3NhZ2UpIHtcbiAgICAgICAgICAvLyBUT0RPOiBHZXQgYXBwcm9wcmlhdGUgdHlwZSBmb3IgYG9uQ3VzdG9tTWVzc2FnZWBcbiAgICAgICAgICBwcm9taXNlLlVOU1RBQkxFX29uQ3VzdG9tTWVzc2FnZSgoW2V2ZW50LCBwYXlsb2FkXSkgPT5cbiAgICAgICAgICAgIHRoaXMuI2V2ZW50RW1pdHRlci5lbWl0KGV2ZW50LCBwYXlsb2FkKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9KTtcbiAgICBjb25zdCBvbkludGVycnVwdCA9IG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgIHdhdGNoZXIub24oJ2NoYW5nZScsIHN0YXRlID0+IHtcbiAgICAgICAgaWYgKHN0YXRlLmludGVycnVwdGVkKSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBDYW5jZWxSdW4oKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IHJ1bkFsbFRlc3RzID0gUHJvbWlzZS5hbGwoXG4gICAgICB0ZXN0cy5tYXAodGVzdCA9PlxuICAgICAgICBydW5UZXN0SW5Xb3JrZXIodGVzdCkudGhlbihcbiAgICAgICAgICByZXN1bHQgPT5cbiAgICAgICAgICAgIHRoaXMuI2V2ZW50RW1pdHRlci5lbWl0KCd0ZXN0LWZpbGUtc3VjY2VzcycsIFt0ZXN0LCByZXN1bHRdKSxcbiAgICAgICAgICBlcnJvciA9PiB0aGlzLiNldmVudEVtaXR0ZXIuZW1pdCgndGVzdC1maWxlLWZhaWx1cmUnLCBbdGVzdCwgZXJyb3JdKVxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgICBjb25zdCBjbGVhbnVwID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qge2ZvcmNlRXhpdGVkfSA9IGF3YWl0IHdvcmtlci5lbmQoKTtcbiAgICAgIGlmIChmb3JjZUV4aXRlZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIF9jaGFsaygpLmRlZmF1bHQueWVsbG93KFxuICAgICAgICAgICAgJ0Egd29ya2VyIHByb2Nlc3MgaGFzIGZhaWxlZCB0byBleGl0IGdyYWNlZnVsbHkgYW5kIGhhcyBiZWVuIGZvcmNlIGV4aXRlZC4gJyArXG4gICAgICAgICAgICAgICdUaGlzIGlzIGxpa2VseSBjYXVzZWQgYnkgdGVzdHMgbGVha2luZyBkdWUgdG8gaW1wcm9wZXIgdGVhcmRvd24uICcgK1xuICAgICAgICAgICAgICAnVHJ5IHJ1bm5pbmcgd2l0aCAtLWRldGVjdE9wZW5IYW5kbGVzIHRvIGZpbmQgbGVha3MuICcgK1xuICAgICAgICAgICAgICAnQWN0aXZlIHRpbWVycyBjYW4gYWxzbyBjYXVzZSB0aGlzLCBlbnN1cmUgdGhhdCAudW5yZWYoKSB3YXMgY2FsbGVkIG9uIHRoZW0uJ1xuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW3J1bkFsbFRlc3RzLCBvbkludGVycnVwdF0pLnRoZW4oY2xlYW51cCwgY2xlYW51cCk7XG4gIH1cbiAgb24oZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIHJldHVybiB0aGlzLiNldmVudEVtaXR0ZXIub24oZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFRlc3RSdW5uZXI7XG5jbGFzcyBDYW5jZWxSdW4gZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnQ2FuY2VsUnVuJztcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaQSxNQUFNLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxFQUFFLFlBQVksRUFBRTtFQUMzQ0MsS0FBSyxFQUFFO0FBQ1QsQ0FBQyxDQUFDO0FBQ0ZILE1BQU0sQ0FBQ0MsY0FBYyxDQUFDQyxPQUFPLEVBQUUsb0JBQW9CLEVBQUU7RUFDbkRFLFVBQVUsRUFBRSxJQUFJO0VBQ2hCQyxHQUFHLEVBQUUsU0FBQUEsQ0FBQSxFQUFZO0lBQ2YsT0FBT0MsTUFBTSxDQUFDQyxrQkFBa0I7RUFDbEM7QUFDRixDQUFDLENBQUM7QUFDRlAsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sRUFBRSxvQkFBb0IsRUFBRTtFQUNuREUsVUFBVSxFQUFFLElBQUk7RUFDaEJDLEdBQUcsRUFBRSxTQUFBQSxDQUFBLEVBQVk7SUFDZixPQUFPQyxNQUFNLENBQUNFLGtCQUFrQjtFQUNsQztBQUNGLENBQUMsQ0FBQztBQUNGTixPQUFPLENBQUNPLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFDeEIsU0FBU0MsTUFBTUEsQ0FBQSxFQUFHO0VBQ2hCLE1BQU1DLElBQUksR0FBR0Msc0JBQXNCLENBQUNDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztFQUNyREgsTUFBTSxHQUFHLFNBQUFBLENBQUEsRUFBWTtJQUNuQixPQUFPQyxJQUFJO0VBQ2IsQ0FBQztFQUNELE9BQU9BLElBQUk7QUFDYjtBQUNBLFNBQVNHLFNBQVNBLENBQUEsRUFBRztFQUNuQixNQUFNSCxJQUFJLEdBQUdDLHNCQUFzQixDQUFDQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7RUFDeERDLFNBQVMsR0FBRyxTQUFBQSxDQUFBLEVBQVk7SUFDdEIsT0FBT0gsSUFBSTtFQUNiLENBQUM7RUFDRCxPQUFPQSxJQUFJO0FBQ2I7QUFDQSxTQUFTSSxPQUFPQSxDQUFBLEVBQUc7RUFDakIsTUFBTUosSUFBSSxHQUFHQyxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0VBQ3ZERSxPQUFPLEdBQUcsU0FBQUEsQ0FBQSxFQUFZO0lBQ3BCLE9BQU9KLElBQUk7RUFDYixDQUFDO0VBQ0QsT0FBT0EsSUFBSTtBQUNiO0FBQ0EsU0FBU0ssU0FBU0EsQ0FBQSxFQUFHO0VBQ25CLE1BQU1MLElBQUksR0FBR0UsT0FBTyxDQUFDLFdBQVcsQ0FBQztFQUNqQ0csU0FBUyxHQUFHLFNBQUFBLENBQUEsRUFBWTtJQUN0QixPQUFPTCxJQUFJO0VBQ2IsQ0FBQztFQUNELE9BQU9BLElBQUk7QUFDYjtBQUNBLFNBQVNNLFdBQVdBLENBQUEsRUFBRztFQUNyQixNQUFNTixJQUFJLEdBQUdFLE9BQU8sQ0FBQyxhQUFhLENBQUM7RUFDbkNJLFdBQVcsR0FBRyxTQUFBQSxDQUFBLEVBQVk7SUFDeEIsT0FBT04sSUFBSTtFQUNiLENBQUM7RUFDRCxPQUFPQSxJQUFJO0FBQ2I7QUFDQSxJQUFJTyxRQUFRLEdBQUdOLHNCQUFzQixDQUFDQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDM0QsSUFBSVAsTUFBTSxHQUFHTyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQy9CLFNBQVNELHNCQUFzQkEsQ0FBQ08sR0FBRyxFQUFFO0VBQ25DLE9BQU9BLEdBQUcsSUFBSUEsR0FBRyxDQUFDQyxVQUFVLEdBQUdELEdBQUcsR0FBRztJQUFDVixPQUFPLEVBQUVVO0VBQUcsQ0FBQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNRSxVQUFVLFNBQVNmLE1BQU0sQ0FBQ0Usa0JBQWtCLENBQUM7RUFDakQsQ0FBQ2MsWUFBWSxHQUFHLEtBQUtSLFNBQVMsRUFBRSxDQUFDTCxPQUFPLEdBQUc7RUFDM0MsTUFBTWMsUUFBUUEsQ0FBQ0MsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRTtJQUN0QyxPQUFPQSxPQUFPLENBQUNDLE1BQU0sR0FDakIsSUFBSSxDQUFDLENBQUNDLG1CQUFtQixDQUFDSixLQUFLLEVBQUVDLE9BQU8sQ0FBQyxHQUN6QyxJQUFJLENBQUMsQ0FBQ0kscUJBQXFCLENBQUNMLEtBQUssRUFBRUMsT0FBTyxDQUFDO0VBQ2pEO0VBQ0EsTUFBTSxDQUFDRyxtQkFBbUJFLENBQUNOLEtBQUssRUFBRUMsT0FBTyxFQUFFO0lBQ3pDTSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsY0FBYyxHQUFHLEdBQUc7SUFDaEMsTUFBTUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFbkIsT0FBTyxFQUFFLENBQUNOLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDdkMsT0FBT2UsS0FBSyxDQUFDVyxNQUFNLENBQ2pCLENBQUNDLE9BQU8sRUFBRUMsSUFBSSxLQUNaSCxLQUFLLENBQUMsTUFDSkUsT0FBTyxDQUNKRSxJQUFJLENBQUMsWUFBWTtNQUNoQixJQUFJYixPQUFPLENBQUNjLGFBQWEsRUFBRSxFQUFFO1FBQzNCLE1BQU0sSUFBSUMsU0FBUyxFQUFFO01BQ3ZCOztNQUVBO01BQ0EsTUFBTUMsaUJBQWlCLEdBQUdBLENBQUNDLFNBQVMsRUFBRUMsSUFBSSxLQUN4QyxJQUFJLENBQUMsQ0FBQ3JCLFlBQVksQ0FBQ3NCLElBQUksQ0FDckJGLFNBQVMsRUFDVCxDQUFDLENBQUMsRUFBRTFCLFNBQVMsRUFBRSxDQUFDNkIsY0FBYyxFQUFFRixJQUFJLEVBQUU7UUFDcENHLGFBQWEsRUFBRTtNQUNqQixDQUFDLENBQUMsQ0FDSDtNQUNILE1BQU0sSUFBSSxDQUFDLENBQUN4QixZQUFZLENBQUNzQixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQ1AsSUFBSSxDQUFDLENBQUM7TUFDeEQsT0FBTyxDQUFDLENBQUMsRUFBRW5CLFFBQVEsQ0FBQ1QsT0FBTyxFQUN6QjRCLElBQUksQ0FBQ1UsSUFBSSxFQUNULElBQUksQ0FBQ0MsYUFBYSxFQUNsQlgsSUFBSSxDQUFDWSxPQUFPLENBQUNDLE1BQU0sRUFDbkJiLElBQUksQ0FBQ1ksT0FBTyxDQUFDRSxRQUFRLEVBQ3JCLElBQUksQ0FBQ0MsUUFBUSxFQUNiWCxpQkFBaUIsQ0FDbEI7SUFDSCxDQUFDLENBQUMsQ0FDREgsSUFBSSxDQUNIZSxNQUFNLElBQ0osSUFBSSxDQUFDLENBQUMvQixZQUFZLENBQUNzQixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQ1AsSUFBSSxFQUFFZ0IsTUFBTSxDQUFDLENBQUMsRUFDOURDLEtBQUssSUFDSCxJQUFJLENBQUMsQ0FBQ2hDLFlBQVksQ0FBQ3NCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDUCxJQUFJLEVBQUVpQixLQUFLLENBQUMsQ0FBQyxDQUM5RCxDQUNKLEVBQ0hDLE9BQU8sQ0FBQ0MsT0FBTyxFQUFFLENBQ2xCO0VBQ0g7RUFDQSxNQUFNLENBQUMzQixxQkFBcUI0QixDQUFDakMsS0FBSyxFQUFFQyxPQUFPLEVBQUU7SUFDM0MsTUFBTWlDLFNBQVMsR0FBRyxJQUFJQyxHQUFHLEVBQUU7SUFDM0IsS0FBSyxNQUFNdEIsSUFBSSxJQUFJYixLQUFLLEVBQUU7TUFDeEIsSUFBSSxDQUFDa0MsU0FBUyxDQUFDRSxHQUFHLENBQUN2QixJQUFJLENBQUNZLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDVyxFQUFFLENBQUMsRUFBRTtRQUMxQ0gsU0FBUyxDQUFDSSxHQUFHLENBQUN6QixJQUFJLENBQUNZLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDVyxFQUFFLEVBQUU7VUFDcENYLE1BQU0sRUFBRWIsSUFBSSxDQUFDWSxPQUFPLENBQUNDLE1BQU07VUFDM0JhLHFCQUFxQixFQUFFMUIsSUFBSSxDQUFDWSxPQUFPLENBQUNlLFNBQVMsQ0FBQ0MsTUFBTTtRQUN0RCxDQUFDLENBQUM7TUFDSjtJQUNGO0lBQ0EsTUFBTUMsTUFBTSxHQUFHLEtBQUtqRCxXQUFXLEVBQUUsQ0FBQ2tELE1BQU0sRUFBRXRELE9BQU8sQ0FBQzJDLE9BQU8sQ0FBQyxjQUFjLENBQUMsRUFBRTtNQUN6RVksbUJBQW1CLEVBQUUsSUFBSSxDQUFDcEIsYUFBYSxDQUFDcUIsYUFBYTtNQUNyREMsY0FBYyxFQUFFLENBQUMsUUFBUSxDQUFDO01BQzFCQyxXQUFXLEVBQUU7UUFDWEMsYUFBYSxFQUFFLE1BQU07UUFDckJDLEtBQUssRUFBRTtNQUNULENBQUM7TUFDRDtNQUNBO01BQ0FDLGVBQWUsRUFDYixPQUFPLElBQUksQ0FBQzFCLGFBQWEsQ0FBQzJCLHFCQUFxQixLQUFLLFFBQVEsR0FDeEQsSUFBSSxDQUFDM0IsYUFBYSxDQUFDMkIscUJBQXFCLEdBQ3hDQyxTQUFTO01BQ2ZDLFVBQVUsRUFBRSxDQUFDO01BQ2JDLFVBQVUsRUFBRSxJQUFJLENBQUM5QixhQUFhLENBQUMrQixVQUFVO01BQ3pDQyxTQUFTLEVBQUUsQ0FDVDtRQUNFQyxxQkFBcUIsRUFBRUMsS0FBSyxDQUFDQyxJQUFJLENBQUN6QixTQUFTLENBQUMwQixNQUFNLEVBQUU7TUFDdEQsQ0FBQztJQUVMLENBQUMsQ0FBQztJQUNGLElBQUlsQixNQUFNLENBQUNtQixTQUFTLEVBQUUsRUFBRW5CLE1BQU0sQ0FBQ21CLFNBQVMsRUFBRSxDQUFDQyxJQUFJLENBQUN2RCxPQUFPLENBQUN3RCxNQUFNLENBQUM7SUFDL0QsSUFBSXJCLE1BQU0sQ0FBQ3NCLFNBQVMsRUFBRSxFQUFFdEIsTUFBTSxDQUFDc0IsU0FBUyxFQUFFLENBQUNGLElBQUksQ0FBQ3ZELE9BQU8sQ0FBQzBELE1BQU0sQ0FBQztJQUMvRCxNQUFNdkQsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFbkIsT0FBTyxFQUFFLENBQUNOLE9BQU8sRUFBRSxJQUFJLENBQUN1QyxhQUFhLENBQUMrQixVQUFVLENBQUM7O0lBRW5FO0lBQ0E7SUFDQSxNQUFNVyxlQUFlLEdBQUdyRCxJQUFJLElBQzFCSCxLQUFLLENBQUMsWUFBWTtNQUNoQixJQUFJVCxPQUFPLENBQUNjLGFBQWEsRUFBRSxFQUFFO1FBQzNCLE9BQU9nQixPQUFPLENBQUNvQyxNQUFNLEVBQUU7TUFDekI7TUFDQSxNQUFNLElBQUksQ0FBQyxDQUFDckUsWUFBWSxDQUFDc0IsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUNQLElBQUksQ0FBQyxDQUFDO01BQ3hELE1BQU1ELE9BQU8sR0FBRzhCLE1BQU0sQ0FBQ0EsTUFBTSxDQUFDO1FBQzVCaEIsTUFBTSxFQUFFYixJQUFJLENBQUNZLE9BQU8sQ0FBQ0MsTUFBTTtRQUMzQkQsT0FBTyxFQUFFO1VBQ1AsR0FBRyxJQUFJLENBQUNHLFFBQVE7VUFDaEJ3QyxZQUFZLEVBQ1YsSUFBSSxDQUFDeEMsUUFBUSxDQUFDd0MsWUFBWSxJQUMxQlYsS0FBSyxDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDL0IsUUFBUSxDQUFDd0MsWUFBWSxDQUFDO1VBQ3hDQyxtQ0FBbUMsRUFDakMsSUFBSSxDQUFDekMsUUFBUSxDQUFDeUMsbUNBQW1DLElBQ2pEWCxLQUFLLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUMvQixRQUFRLENBQUN5QyxtQ0FBbUM7UUFDaEUsQ0FBQztRQUNEQyxZQUFZLEVBQUUsSUFBSSxDQUFDOUMsYUFBYTtRQUNoQ0QsSUFBSSxFQUFFVixJQUFJLENBQUNVO01BQ2IsQ0FBQyxDQUFDO01BQ0YsSUFBSVgsT0FBTyxDQUFDMkQsd0JBQXdCLEVBQUU7UUFDcEM7UUFDQTNELE9BQU8sQ0FBQzJELHdCQUF3QixDQUFDLENBQUMsQ0FBQ0MsS0FBSyxFQUFFQyxPQUFPLENBQUMsS0FDaEQsSUFBSSxDQUFDLENBQUMzRSxZQUFZLENBQUNzQixJQUFJLENBQUNvRCxLQUFLLEVBQUVDLE9BQU8sQ0FBQyxDQUN4QztNQUNIO01BQ0EsT0FBTzdELE9BQU87SUFDaEIsQ0FBQyxDQUFDO0lBQ0osTUFBTThELFdBQVcsR0FBRyxJQUFJM0MsT0FBTyxDQUFDLENBQUM0QyxDQUFDLEVBQUVSLE1BQU0sS0FBSztNQUM3Q2xFLE9BQU8sQ0FBQzJFLEVBQUUsQ0FBQyxRQUFRLEVBQUVDLEtBQUssSUFBSTtRQUM1QixJQUFJQSxLQUFLLENBQUNDLFdBQVcsRUFBRTtVQUNyQlgsTUFBTSxDQUFDLElBQUluRCxTQUFTLEVBQUUsQ0FBQztRQUN6QjtNQUNGLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztJQUNGLE1BQU0rRCxXQUFXLEdBQUdoRCxPQUFPLENBQUNpRCxHQUFHLENBQzdCaEYsS0FBSyxDQUFDaUYsR0FBRyxDQUFDcEUsSUFBSSxJQUNacUQsZUFBZSxDQUFDckQsSUFBSSxDQUFDLENBQUNDLElBQUksQ0FDeEJlLE1BQU0sSUFDSixJQUFJLENBQUMsQ0FBQy9CLFlBQVksQ0FBQ3NCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDUCxJQUFJLEVBQUVnQixNQUFNLENBQUMsQ0FBQyxFQUM5REMsS0FBSyxJQUFJLElBQUksQ0FBQyxDQUFDaEMsWUFBWSxDQUFDc0IsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUNQLElBQUksRUFBRWlCLEtBQUssQ0FBQyxDQUFDLENBQ3JFLENBQ0YsQ0FDRjtJQUNELE1BQU1vRCxPQUFPLEdBQUcsTUFBQUEsQ0FBQSxLQUFZO01BQzFCLE1BQU07UUFBQ0M7TUFBVyxDQUFDLEdBQUcsTUFBTXpDLE1BQU0sQ0FBQzBDLEdBQUcsRUFBRTtNQUN4QyxJQUFJRCxXQUFXLEVBQUU7UUFDZkUsT0FBTyxDQUFDdkQsS0FBSyxDQUNYNUMsTUFBTSxFQUFFLENBQUNELE9BQU8sQ0FBQ3FHLE1BQU0sQ0FDckIsNEVBQTRFLEdBQzFFLG1FQUFtRSxHQUNuRSxzREFBc0QsR0FDdEQsNkVBQTZFLENBQ2hGLENBQ0Y7TUFDSDtJQUNGLENBQUM7SUFDRCxPQUFPdkQsT0FBTyxDQUFDd0QsSUFBSSxDQUFDLENBQUNSLFdBQVcsRUFBRUwsV0FBVyxDQUFDLENBQUMsQ0FBQzVELElBQUksQ0FBQ29FLE9BQU8sRUFBRUEsT0FBTyxDQUFDO0VBQ3hFO0VBQ0FOLEVBQUVBLENBQUMxRCxTQUFTLEVBQUVzRSxRQUFRLEVBQUU7SUFDdEIsT0FBTyxJQUFJLENBQUMsQ0FBQzFGLFlBQVksQ0FBQzhFLEVBQUUsQ0FBQzFELFNBQVMsRUFBRXNFLFFBQVEsQ0FBQztFQUNuRDtBQUNGO0FBQ0E5RyxPQUFPLENBQUNPLE9BQU8sR0FBR1ksVUFBVTtBQUM1QixNQUFNbUIsU0FBUyxTQUFTeUUsS0FBSyxDQUFDO0VBQzVCQyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFDbkIsS0FBSyxDQUFDQSxPQUFPLENBQUM7SUFDZCxJQUFJLENBQUNDLElBQUksR0FBRyxXQUFXO0VBQ3pCO0FBQ0YifQ==